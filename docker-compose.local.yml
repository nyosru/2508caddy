version: '3.8'

networks:
  laravel:
    external: true

volumes:
  caddy_caddyfile:

services:

  caddy:
    container_name: caddy
    image: dockerhub.timeweb.cloud/library/caddy:2.6
    restart: unless-stopped
    ports:
      - "80:80"
      - "443:443"
      - "443:443/udp"
    networks:
      - laravel
    #        - web2412
    volumes:
      - ./caddy/config:/config/caddy
      - caddy_caddyfile:/etc/caddy
      - ./caddy/Caddyfile:/etc/caddy/Caddyfile

      #auto_as
      - '${FOLDER_2312AUTO_AS}:${FOLDER_2312AUTO_AS_SERV}'
      - '${FOLDER_2312AUTO_AS__DIR_PHOTO}:${FOLDER_2312AUTO_AS_SERV}/storage/app/public/photo'


      - '${FOLDER_2503MASTER}:${FOLDER_2503MASTER_SERV}'

      #2507yii2_test
      - '${FOLDER_2507YII2_TEST}:${FOLDER_2507YII2_TEST_SERV}'
      #        #timefv
      - '${FOLDER_2505TIMEFV}:${FOLDER_2505TIMEFV_SERV}'
      #proc-master
      #        #livewire
      - '${FOLDER_2309LIVEWIRE}:${FOLDER_2309LIVEWIRE_SERV}'
      - '${FOLDER_2308BEGET}:${FOLDER_2308BEGET_SERV}'

      #        # api_vk
      #        - '${FOLDER_2506API_VK}:${FOLDER_2506API_VK_SERV}'
      #        # 2506 test api resource
      #        - '${FOLDER_2506TESTAPI}:${FOLDER_2506TESTAPI_SERV}'

      #        #base16
      - '${FOLDER_BASE16}:${FOLDER_BASE16_SERV}'

      #        #2503 testapi
      #        - '${FOLDER_2503TEST_API}:${FOLDER_2503TEST_API_SERV}'

      # vitius
      #        - '${FOLDER_VT2412_DEV}:${FOLDER_VT2412_SERV}'
      #        - '${FOLDER_2309LIVEWIRE}:${FOLDER_2309LIVEWIRE_SERV}'


      #        - '${FOLDER_2309LIVEWIRE}:${FOLDER_2309LIVEWIRE_SERV}'
      #        - '${FOLDER_SITE_API}:${FOLDER_SITE_API_SERV}'
      #        - '${FOLDER_BASE12NAREK}:${FOLDER_BASE12NAREK_SERV}'
      #svo
      #        - '${FOLDER_2410SVO}:${FOLDER_2410SVO_SERV}'

      #- shared_caddyfile:/shared/caddyfile  # Монтируем том для общего использования файла
      #- shared_caddyfile:/etc/caddy
      #- shared_caddyfile:/etc/caddy/Caddyfile

      #- ./caddy/log:/var/log/caddy
      #      #      - ${FOLDER_UPR_SERV}/storage/app/caddy:/etc/caddy
      ##      - caddy_caddyfile:/caddy/Caddyfile
      ##      - caddy_caddyfile:/caddy
      ##      - caddy_caddyfile:/etc/caddy
      ##      - caddy_caddyfile:./caddy
      ##      - caddy_caddyfile:/etc/caddy/Caddyfile
      ##      - caddy_caddyfile:/caddy
      ##      - caddyfile:/caddy/Caddyfile
      ##      - '${FOLDER_UPR_SERV}/storage/app/caddyfile33/:/etc/caddy/Caddyfile'
      ###      - '${FOLDER_2309LIVEWIRE}:/2309livewire'
      ###      - '${FOLDER_TEST231012}:${FOLDER_TEST231012_SERV}'
      ##      - '${FOLDER_2302DIDRIVE}:${FOLDER_2302DIDRIVE_CADDY}'
      ##      - '${FOLDER_TEST23116PHP}:${FOLDER_TEST23116PHP_SERV}'
      ##      - '${FOLDER_UPR_SERV}:${FOLDER_UPR_SERV_SERV}'
      ##      -  '/etc/caddy/Caddyfile:${FOLDER_UPR_SERV_SERV}/storage/app/caddyfile2'
      ##      -  './caddy/Caddyfile:${FOLDER_UPR_SERV_SERV}/storage/app/caddyfile2'
      ##      - '${FOLDER_2401TEST}:${FOLDER_2401TEST_SERV}'
      #
      #
      #      - '${FOLDER_2312AUTO_AS}:${FOLDER_2312AUTO_AS_SERV}'
      #      - '${FOLDER_2312AUTO_AS__DIR_PHOTO}:${FOLDER_2312AUTO_AS_SERV}/storage/app/public/photo'
      #      - '${FOLDER_2312AUTO_AS_DIDRIVE}:${FOLDER_2312AUTO_AS_DIDRIVE_SERV}'
      #      - '${FOLDER_API_PHP74}:${FOLDER_API_PHP74_SERV}'
      #
      #      - '${FOLDER_BASE17}:${FOLDER_BASE17_SERV}'

      #      - '${FOLDER_2308BEGET}:${FOLDER_2308BEGET_SERV}'
      #      - '${FOLDER_BITRIX1}:${FOLDER_BITRIX1_SERV}'
      #      - './../2407bitrix24:/home/bitrix24'

#    depends_on:
#      - db_mysql
    #        - 2505timefv
    #        - 2507yii2_test
    #      - 2308beget
    #        - 2506test
    #        - 2309livewire
    #        - 2503master
    #        - 2503testapi
    #      - base17
    #        - base12narek
    ##      - test231012
    ##      - 2302didrive
    ##      - test231116php
    ##      - upr_serv
    ##      - 2401test
    ##      - api_php74
    ##      - 2302docker_papa
    #      - bitrix1
